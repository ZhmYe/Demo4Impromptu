(function(){var t={9478:function(t,e,a){"use strict";var i=a(6369),s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"},attrs:{id:"app"}},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[e("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"2"}},[t._v("About")]),e("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"1"}},[t._v("Main")])],1),e("div",{staticClass:"search-content"},[e("div",{staticClass:"search-area"},[e("div",{staticClass:"upload-info"},[e("el-descriptions",{attrs:{title:"Statistical Information"}},[e("el-descriptions-item",{attrs:{label:"Accounts"}},[e("el-tag",{attrs:{size:"small"}},[t._v("12")])],1),e("el-descriptions-item",{attrs:{label:"Transactions"}},[e("el-tag",{attrs:{size:"small"}},[t._v("12")])],1),e("el-descriptions-item",{attrs:{label:"Block Number"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v("0")]),t._v("~"),e("el-tag",{attrs:{type:"primary",size:"small"}},[t._v("111111")])],1),e("el-descriptions-item",{attrs:{label:"Labels"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v("5")])],1),e("el-descriptions-item",{attrs:{label:"Aberrations"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v("4")])],1),e("el-descriptions-item",{attrs:{label:"TimeStamp"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v("2022-2-23")])],1)],1)],1),e("div",{staticClass:"search-form"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[e("el-form-item",{attrs:{label:"Label"}},[e("el-select",{ref:"Labelselect",attrs:{placeholder:"label"},model:{value:t.labelSelect,callback:function(e){t.labelSelect=e},expression:"labelSelect"}},t._l(this.label,(function(t,a){return e("el-option",{key:a,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("Search")])],1)],1)],1)])]),e("el-tabs",{staticStyle:{"margin-left":"2%"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{staticStyle:{width:"100%"},attrs:{label:"Overview",name:"OverviewTab"}},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"table-result"},[e("OverviewGraph",{staticStyle:{width:"100%","min-height":"calc(66vh - 60px)"},attrs:{option:t.option4Overview}})],1)])])]),e("el-tab-pane",{staticStyle:{width:"100%"},attrs:{label:"Analyze",name:"GraphTab"}},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"table-result"})])])])],1)],1)},n=[],l=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e("el-empty",{directives:[{name:"show",rawName:"v-show",value:t.empty,expression:"empty"}],staticStyle:{width:"100%"},attrs:{description:"No Data"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.empty,expression:"!empty"}],staticStyle:{width:"calc(81vw)",height:"calc(66vh - 60px)"},attrs:{id:"overview"}})],1)},o=[],r={name:"OverviewGraph",props:["option"],data(){return{empty:!0,chart:void 0}},mounted(){},watch:{option(t){console.log(t),this.empty=!1,this.Draw(t["nodes"],t["edges"],t["dic"])}},methods:{Draw:function(t,e,a){const i=12,s=new this.$antv.Tooltip({offsetX:10,offsetY:10,fixToNode:[1,.5],itemTypes:["node","edge"],getContent:t=>{const e=document.createElement("div");e.style.width="fit-content",e.style.height="fit-content";const a=t.item.getModel();if("node"===t.item.getType())e.innerHTML=`${a.name}`;else{const a=t.item.getSource(),i=t.item.getTarget();e.innerHTML=`来源：${a.getModel().name}<br/>去向：${i.getModel().name}`}return e}});let n={fixAll:!0,fixState:"yourStateName"};const l=(t,e,a)=>{const i="...",s=this.$antv.Util.getTextSize(i,a)[0];let n=0,l=t;const o=new RegExp("[一-龥]+");return t.split("").forEach(((r,c)=>{n>e-s||(o.test(r)?n+=a:n+=this.$antv.Util.getLetterWidth(r,a),n>e-s&&(l=`${t.substr(0,c)}${i}`))})),l},o=document.getElementById("overview"),r=o.scrollWidth,c=o.scrollHeight,d=new this.$antv.Graph({container:"overview",width:r,height:c,plugins:[s],modes:{default:["drag-canvas","activate-relations",{type:"zoom-canvas",fixSelectedItems:n}]},layout:{type:"force",preventOverlap:!0,linkDistance:t=>300,nodeStrength:t=>-50},defaultNode:{stroke:"#aaa",lineAppendWidth:2,opacity:.3},labelCfg:{style:{fontSize:i}}}),h={nodes:t,edges:e};h.nodes.forEach((function(t){t.label=l(t.label,t.size,i)}));const p=h.nodes;function m(t){const e=t.item.get("model");e.fx=t.x,e.fy=t.y}d.data({nodes:p,edges:h.edges.map((function(t,e){return t.id="edge"+e,Object.assign({},t)}))}),d.render(),d.on("node:dragstart",(function(t){d.layout(),m(t)})),d.on("node:drag",(function(t){m(t)})),d.on("node:dragend",(function(t){t.item.get("model").fx=null,t.item.get("model").fy=null})),"undefined"!==typeof window&&(window.onresize=()=>{d&&!d.get("destroyed")&&o&&o.scrollWidth&&o.scrollHeight&&d.changeSize(o.scrollWidth,o.scrollHeight)})}}},c=r,d=a(1001),h=(0,d.Z)(c,l,o,!1,null,null,null),p=h.exports,m={name:"App",components:{OverviewGraph:p},data(){return{activeIndex:"1",activeName:"OverviewTab",option4Overview:{}}},created(){},mounted(){},methods:{search:function(){this.option4Overview={},this.$http.post("/data/search/",{account:"0xi8l4rv7k4y9buf72i0lh6yw1y12aq8mwduanw940",jump:3},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.code=200,this.option4Overview={nodes:t.body.nodes,edges:t.body.edges,dic:t.body.dic},console.log(this.option4Overview)}),(function(t){this.code=t.status,this.message=t.body.message}))}}},u=m,v=(0,d.Z)(u,s,n,!1,null,null,null),b=v.exports,g=a(2631),y=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%",height:"calc(100vh)","overflow-y":"auto"}},[e("div",{staticClass:"search-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.uploading,expression:"uploading"}],staticClass:"search-area"},[e("div",{staticClass:"upload-info"},[e("el-descriptions",{attrs:{title:"Statistical Information"}},[e("template",{slot:"extra"}),e("el-descriptions-item",{attrs:{label:"Accounts"}},[e("el-tag",{attrs:{size:"small"}},[t._v(t._s(this.NodeNumber))])],1),e("el-descriptions-item",{attrs:{label:"Transactions"}},[e("el-tag",{attrs:{size:"small"}},[t._v(t._s(this.EdgeNumber))])],1),e("el-descriptions-item",{attrs:{label:"Block Number"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(this.blocknumber["min"]))]),t._v("~"),e("el-tag",{attrs:{type:"primary",size:"small"}},[t._v(t._s(this.blocknumber["max"]))])],1),e("el-descriptions-item",{attrs:{label:"Labels"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(this.labelNumber))])],1),e("el-descriptions-item",{attrs:{label:"Aberrations"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(this.labelNumber-1))])],1),e("el-descriptions-item",{attrs:{label:"TimeStamp"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(this.timestamp))])],1)],2)],1),e("div",{staticClass:"search-form"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[e("el-form-item",{attrs:{label:"Label"}},[e("el-select",{ref:"Labelselect",attrs:{placeholder:"label"},model:{value:t.labelSelect,callback:function(e){t.labelSelect=e},expression:"labelSelect"}},t._l(this.label,(function(t,a){return e("el-option",{key:a,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("Search")])],1)],1)],1)])]),e("el-tabs",{staticStyle:{"margin-left":"2%"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{staticStyle:{width:"100%"},attrs:{label:"概览图",name:"OverviewTab"}},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"table-result"},[e("OverviewGraph",{staticStyle:{width:"100%","min-height":"calc(66vh - 60px)"},attrs:{option:t.option4Overview}})],1)])])]),e("el-tab-pane",{staticStyle:{width:"100%"},attrs:{label:"时间轴",name:"GraphTab"}},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"table-result"},[e("NetGraph",{staticStyle:{width:"100%","min-height":"calc(66vh - 60px)"},attrs:{option:t.option4Graph}})],1)])])])],1)],1)},f=[],w=function(){var t=this,e=t._self._c;return e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","min-height":"100%","max-height":"100%",overflow:"auto"},attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading",data:t.tableData,"header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[e("el-table-column",{attrs:{prop:"index",width:"100",label:"Index"}}),e("el-table-column",{attrs:{prop:"tag",label:"Main Account",width:"320"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"primary","disable-transitions":""}},[t._v(t._s(a.row.source))])]}}])}),e("el-table-column",{attrs:{prop:"tag",label:"Related Accounts",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"success","disable-transitions":""}},[t._v(t._s(a.row.account))])]}}])}),e("el-table-column",{attrs:{prop:"tag",label:"Related Transactions",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"success","disable-transitions":""}},[t._v(t._s(a.row.tx))])]}}])}),e("el-table-column",{attrs:{prop:"value",label:"Value",width:"200"}}),e("el-table-column",{attrs:{width:"90",label:"Overview "},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{plain:"",id:"searchbutton",size:"mini"},on:{click:function(e){return t.openChild(e,a.row.label)}}},[e("span",[e("i",{staticClass:"fa fa-eye"})])])]}}])})],1)],1)},x=[],S={name:"TableComponent",props:{open:{type:Function,default:null},update:{type:Function,default:null},data:{type:Array,default:function(){return[]}}},watch:{data(t){this.page=1,this.tableData=t,this.loading=!1}},methods:{deleteRow(t,e){e.splice(t,1)},handleCurrentChange(t){this.page=t},handleSizeChange(t){this.pageSize=t},OpenLoading(){this.loading=!0},openChild(t,e){this.$http.post("/data/search/",{label:e,blockNumberRange:[0,-1]},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.open(t.body.json,!0)}))}},mounted(){this.tableData=this.update(),this.timer=setInterval((()=>{this.tableData=this.update(),console.log("更新Aberration...")}),1e3)},destroyed(){void 0!=this.timer&&clearInterval(this.timer)},data(){return{page:1,timer:void 0,tableData:[],loading:!1,pageSize:3}}},_=S,C=(0,d.Z)(_,w,x,!1,null,null,null),N=C.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e("el-empty",{directives:[{name:"show",rawName:"v-show",value:t.empty,expression:"empty"}],staticStyle:{width:"100%"},attrs:{description:"No Data"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.empty,expression:"!empty"}],staticClass:"chart-container",staticStyle:{width:"calc(81vw)",height:"calc(100vh)"},attrs:{id:"net"}})],1)},T=[],O={name:"NetGraph",props:["option"],data(){return{empty:!0,chart:void 0}},watch:{option(t){console.log(111),this.empty=!1,this.Draw(t)}},methods:{Draw:function(t){var e=echarts.init(document.getElementById("net"),"white",{renderer:"canvas"});e.clear(),e.setOption(t)}}},z=O,D=(0,d.Z)(z,k,T,!1,null,null,null),E=D.exports,j={name:"SearchComponent",props:{open:{type:Function,default:null},popper:{type:Function,default:null}},data(){return{activeName:"OverviewTab",fullshow:!1,option4Graph:{},option4Overview:{},uploading:!0,successNumber:0,labelNumber:0,NodeNumber:0,EdgeNumber:0,labelSelect:"",label:[],blocknumber:{max:void 0,min:void 0},timestamp:void 0}},components:{TableComponent:N,NetGraph:E,OverviewGraph:p},mounted(){this.$http.get("/data/info/",{},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.code=200,this.labelNumber=t.body.labelNumber,this.blocknumber=t.body.blocknumberRange,this.timestamp=t.body.timestamp,this.NodeNumber=t.body.NodeNumber,this.EdgeNumber=t.body.EdgeNumber,this.label=t.body.label}),(function(t){this.code=t.status,this.message=t.body.message}))},methods:{openProp(){this.option4Graph!={}&&void 0!=this.option4Graph&&this.popper(this.option4Graph,!1)},search(){let t=this.labelSelect;this.$http.get("/data/timeline/",{params:{type:t}},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.code=200,this.option4Graph=t.body.json}),(function(t){this.code=t.status,this.message=t.body.message})),this.$http.get("/data/overview/",{params:{type:t}},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.code=200,this.option4Overview=t.body.json}),(function(t){this.code=t.status,this.message=t.body.message}))},openEdgeInfo(t,e,a,i,s){this.open(t,e,a,i,s)}}},$=j,G=(0,d.Z)($,y,f,!1,null,null,null),A=G.exports,U=function(){var t=this;t._self._c;return t._m(0)},I=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%","max-height":"calc(100vh)",overflow:"auto",padding:"5%"}},[e("div",{staticClass:"document-title"},[t._v("面向“区块链+监管”的即席图分析系统")]),e("div",{staticClass:"sub-title"},[t._v("遇到的问题")]),e("div",{staticClass:"document-what"},[e("div",{staticClass:"content"},[t._v(" 近年来，Web3.0发展火热，其数据存储于去中心化的区块链上，具有不可篡改、集体维护、规则透明的特点，Web3.0正致力打造一个基于区块链技术、用户主导、去中心化的网络生态。随着区块链在金融、商业等领域的广泛应用（Token Ecosystem、Decentralized Finance Applications、NFTs、Supply Chain Management），对区块链数据进行监管审查的需求日益旺盛。据统计，截至6月30日，2022上半年安全事件共187件，损失高达19.76亿美元。 ")])]),e("div",{staticStyle:{width:"80%",margin:"0 auto","text-align":"center"}},[e("img",{staticStyle:{width:"100%"},attrs:{src:"/static/images/line_chart.png"}}),e("div",{staticStyle:{"font-size":"small",color:"gray"}},[t._v("2022 上半年安全事件统计")])]),e("div",{staticClass:"document-why"},[e("div",{staticClass:"content"},[t._v(" 以上 187 起安全事件中，攻击手法主要分为四类：由项目自身设计缺陷和各种合约漏洞引起的攻击；包含 Rug Pull、钓鱼攻击等手法的 Scam；由于私钥泄露引起的资产损失；前端恶意攻击，这四种主要攻击手法占比安全事件总数量的 95%。"),e("br"),t._v(" 上半年由项目自身设计缺陷和各种合约漏洞引起的攻击共92起，造成损失10.6亿美元，其中利用闪电贷引起的攻击有19起，造成损失6133万美元。因私钥被盗引起的资产损失发生率约为4%，损失金额却达到7.2亿美元。 ")])]),e("div",{staticClass:"example"},[e("div",{staticClass:"example-chart"},[e("div",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"pie_left"}}),e("div",[t._v("2022上半年攻击手法数量统计")])]),e("div",{staticClass:"example-chart"},[e("div",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"pie_right"}}),e("div",[t._v("2022上半年攻击手法造成损失统计")])])]),e("div",{staticClass:"content"},[t._v(" 尽管 2022 年区块链技术正在飞速发展并且逐渐完善，但层出不穷的加密货币攻击事件对区块链生态安全态势提出了新的挑战。 ")]),e("div",{staticClass:"sub-title"},[t._v("提出的方案")]),e("div",{staticClass:"document-what"},[e("div",{staticClass:"content"},[t._v(" 针对上述痛点，我们提出了面向“区块链+监管”的即席图分析系统，本系统通过设计快速的读写解耦合的数据拉取机制、高效的时序数据存储方法，以及精巧的图数据算子，可以很好地满足监管方对任意时间窗口的区块链数据做高效的查询和分析的需求。 ")])]),e("div",{staticStyle:{width:"80%",margin:"0 auto","text-align":"center"}},[e("img",{staticStyle:{width:"100%"},attrs:{src:"/static/images/structure.png"}}),e("div",{staticStyle:{"font-size":"small",color:"gray"}},[t._v("系统架构图")])]),e("div",{staticClass:"sub-title"},[t._v("创新及应用")]),e("div",{staticClass:"document-what"},[e("div",{staticClass:"content"},[t._v(" 本系统可被应用于面向区块链账本数据的以反洗钱和反欺诈为目的的金融领域中典型的数据分析场景，创新点如下： ")]),e("div",{staticStyle:{"margin-left":"5%","font-size":"large"}},[e("li",[t._v("快速的读写解耦合的数据拉取机制")])]),e("div",{staticClass:"content"},[t._v("通过并行拉取和乱序解析将链上数据快速同步至链下进行图建模，提高了链上数据链下同步效率。")]),e("br"),e("div",{staticStyle:{"margin-left":"5%","font-size":"large"}},[e("li",[t._v("优化的时序数据存储方法")])]),e("div",{staticClass:"content"},[t._v("基于链上数据的时序特征，设计了结合区块时序特征的可合并的分段图存储引擎，在保留快速写入性能的同时提高了数据的顺序访问效率。")]),e("br"),e("div",{staticStyle:{"margin-left":"5%","font-size":"large"}},[e("li",[t._v("高效的图数据查询能力")])]),e("div",{staticClass:"content"},[t._v("针对图遍历中的邻居查询，结合Sketch与布隆过滤器，提出了一种模糊索引的方式，降低了磁盘读写开销，提高了图查询效率。")]),e("br")])])}],J={name:"DocumentComponent",data(){return{phase:1,timelineJson:void 0,performance:[{index:2,r:.016,g:.01,value:"~2500"},{index:3,r:30.267,g:.168,value:"~110000"},{index:4,r:1543.505,g:1.359,value:"~600000"},{index:5,r:"未完成",g:2.132,value:"~800000"}],pie_left:{animation:!0,animationThreshold:2e3,animationDuration:1e3,animationEasing:"cubicOut",animationDelay:0,animationDurationUpdate:300,animationEasingUpdate:"cubicOut",animationDelayUpdate:0,color:["#c23531","#2f4554","#61a0a8","#d48265","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#f05b72","#ef5b9c","#f47920","#905a3d","#fab27b","#2a5caa","#444693","#726930","#b2d235","#6d8346","#ac6767","#1d953f","#6950a1","#918597"],series:[{type:"pie",clockwise:!0,data:[{name:"Rug Pull、钓鱼攻击等\nScam",value:69},{name:"私钥泄露引起的\n财产损失",value:8},{name:"项目自身存在的漏洞\n被攻击者利用",value:92},{name:"前端恶意攻击",value:9},{name:"其它",value:9}],radius:["40%","75%"],center:["50%","50%"],label:{show:!0,position:"top",margin:8,formatter:"{b}: {c}"},rippleEffect:{show:!0,brushType:"stroke",scale:2.5,period:4}}],tooltip:{show:!0,trigger:"item",triggerOn:"mousemove|click",axisPointer:{type:"line"},showContent:!0,alwaysShowContent:!1,showDelay:0,hideDelay:100,textStyle:{fontSize:14},borderWidth:0,padding:5}},pie_right:{animation:!0,animationThreshold:2e3,animationDuration:1e3,animationEasing:"cubicOut",animationDelay:0,animationDurationUpdate:300,animationEasingUpdate:"cubicOut",animationDelayUpdate:0,color:["#c23531","#2f4554","#61a0a8","#d48265","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#f05b72","#ef5b9c","#f47920","#905a3d","#fab27b","#2a5caa","#444693","#726930","#b2d235","#6d8346","#ac6767","#1d953f","#6950a1","#918597"],series:[{type:"pie",clockwise:!0,data:[{name:"Rug Pull、钓鱼攻击等\nScam",value:1.47},{name:"私钥泄露引起的\n财产损失",value:7.2},{name:"项目自身存在的漏洞\n被攻击者利用",value:10.6},{name:"前端恶意攻击",value:.49},{name:"其它",value:.44}],radius:["40%","75%"],center:["50%","50%"],label:{show:!0,position:"top",margin:8,formatter:"{b}: {c}"},rippleEffect:{show:!0,brushType:"stroke",scale:2.5,period:4}}],tooltip:{show:!0,trigger:"item",triggerOn:"mousemove|click",axisPointer:{type:"line"},showContent:!0,alwaysShowContent:!1,showDelay:0,hideDelay:100,textStyle:{fontSize:14},borderWidth:0,padding:5}}}},mounted(){var t=echarts.init(document.getElementById("pie_left"),"white",{renderer:"canvas"}),e=echarts.init(document.getElementById("pie_right"),"white",{renderer:"canvas"});t.setOption(this.pie_left),e.setOption(this.pie_right)}},M=J,F=(0,d.Z)(M,U,I,!1,null,null,null),L=F.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"column"}},[e("div",{staticClass:"eth-info"},[e("div",{staticClass:"eth"},[e("div",{staticClass:"eth-price"},[e("img",{staticClass:"info-img",attrs:{src:"/static/images/ethereum-1.svg"}}),e("div",{staticClass:"info-body"},[e("div",{staticClass:"info-tile"},[t._v("Ether Dashboard")]),e("el-switch",{attrs:{disabled:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),e("div",{staticClass:"info-body",staticStyle:{"margin-left":"10%"}},[e("div",{staticClass:"info-tile"},[t._v("Duration")]),e("div",{staticClass:"info-content",staticStyle:{"font-weight":"700"}},[t._v(t._s(this.dashboard.hour)+":"+t._s(this.dashboard.minute<10?"0"+this.dashboard.minute:this.dashboard.minute)+":"+t._s(this.dashboard.seconds<10?"0"+this.dashboard.seconds:this.dashboard.seconds))])])])]),e("div",{staticClass:"transaction-block"},[e("div",{staticClass:"transaction"},[e("img",{staticClass:"info-img",attrs:{src:"/static/images/icon-2-1.svg"}}),t._m(0),e("div",{staticClass:"info-body",staticStyle:{"margin-left":"20%"}},[e("div",{staticClass:"info-tile"},[t._v("Daily Transactions")]),e("div",{staticClass:"info-content",staticStyle:{color:"yellowgreen","font-weight":"700"}},[t._v(t._s(this.transactions.length+1e3))])])])]),e("div",{staticClass:"block"},[e("div",{staticClass:"block-latest"},[e("img",{staticClass:"info-img",attrs:{src:"/static/images/icon-51.svg"}}),e("div",{staticClass:"info-body"},[e("div",{staticClass:"info-tile"},[t._v("Latest Block")]),e("div",{staticClass:"info-content",staticStyle:{"font-weight":"700",color:"skyblue"}},[t._v(t._s(this.blockNumber))])]),e("div",{staticClass:"info-body",staticStyle:{"margin-left":"10%"}},[e("div",{staticClass:"info-tile"},[t._v("Timestamp")]),e("div",{staticClass:"info-content"},[e("span",{staticStyle:{color:"gray"}},[t._v(t._s(this.blockTime))])])])])])]),e("div",{staticStyle:{width:"98%",display:"flex","margin-top":"2%","margin-left":"2%"}},[e("div",{staticClass:"transaction-chart",staticStyle:{width:"50%"}},[e("div",{staticClass:"transaction-list",staticStyle:{width:"100%",border:"1px solid lightgray","border-radius":"1rem",padding:"2%",position:"relative"}},[t._m(1),e("div",{staticStyle:{overflow:"hidden"}},[e("div",{staticClass:"scroll-table",staticStyle:{height:"280px"},attrs:{id:"scroll-table"}},t._l(this.scrollTx,(function(a,i){return e("div",{key:i,staticClass:"transaction-item",staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid lightgray",padding:"2%",height:"70px"}},[e("div",{staticStyle:{width:"33%",display:"flex","align-items":"center"}},[e("div",{staticStyle:{"background-color":"rgba(119,131,143,.1)","border-radius":"100%",height:"30px",width:"30px","line-height":"30px","text-align":"center","font-weight":"600","font-size":"small"}},[t._v("Tx")]),e("div",{staticClass:"tx-hash",staticStyle:{display:"flex","align-items":"center"}},[e("el-tag",{staticStyle:{width:"144px",overflow:"hidden"},attrs:{type:"primary",size:"small"}},[t._v(t._s(a.tx_hash))])],1)]),e("div",{staticStyle:{width:"33%",display:"flex","align-items":"center","justify-content":"center"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-tag",{staticStyle:{width:"144px",overflow:"hidden"},attrs:{type:"primary",size:"small"}},[t._v(t._s(a.from_account))])],1)]),e("div",{staticStyle:{width:"33%",display:"flex","align-items":"center","justify-content":"center"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-tag",{staticStyle:{width:"144px",overflow:"hidden"},attrs:{type:"primary",size:"small"}},[t._v(t._s(a.to_account))])],1)])])})),0)])])]),e("div",{staticClass:"dashboard-content",staticStyle:{width:"46%","margin-left":"2%",padding:"2%",border:"1px solid lightgray","border-radius":"1rem",position:"relative"}},[e("div",{staticStyle:{width:"80%",position:"absolute",top:"0",left:"10%",color:"gray","text-align":"center",height:"35px","line-height":"35px"}},[t._v("Transaction Synchronization")]),e("div",{staticStyle:{height:"55px",width:"90%",display:"flex",left:"5%"}},[e("div",{staticClass:"dashboard-little-area",staticStyle:{width:"45%"}},[e("div",{staticStyle:{height:"20px","line-height":"20px","text-align":"center",width:"100%","font-size":"small","font-weight":"600",color:"gray"}},[t._v("Synchronized Transaction")]),e("div",{staticStyle:{height:"35px","line-height":"35px","text-align":"center",width:"100%","font-size":"large","font-weight":"600"}},[e("span",{staticStyle:{color:"orange","font-size":"x-large",height:"35px","line-height":"35px"}},[t._v(t._s(this.transactions.length+900))])])]),e("div",{staticClass:"dashboard-little-area",staticStyle:{width:"45%","margin-left":"10%"}},[e("div",{staticStyle:{height:"20px","line-height":"20px","text-align":"center",width:"100%","font-size":"small","font-weight":"600",color:"gray"}},[t._v("Aberration Found")]),e("div",{staticStyle:{height:"35px","line-height":"35px","text-align":"center",width:"100%","font-size":"large","font-weight":"600"}},[e("span",{staticStyle:{color:"red","font-size":"x-large",height:"35px","line-height":"35px"}},[t._v(t._s(this.aberration.length))])])])]),e("div",{staticClass:"extra",staticStyle:{width:"100%",height:"190px"},attrs:{id:"bar"}}),e("div",{staticStyle:{position:"absolute",bottom:"10px",width:"100%","text-align":"center",color:"gray"}},[t._v("Real-time Transaction Synchronization Speed")])])]),e("el-tabs",{staticStyle:{"margin-left":"2%"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"Aberration",name:"TableTab"}},[e("div",{staticStyle:{width:"100%",height:"calc(35vh)",display:"flex",overflow:"auto"}},[e("TableComponent",{ref:"table",attrs:{data:t.aberration,open:t.popper,update:t.updateAberration}})],1)])],1)],1)},B=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-body"},[e("div",{staticClass:"info-tile"},[t._v("Total Transactions")]),e("div",{staticClass:"info-content",staticStyle:{color:"orange","font-weight":"700"}},[t._v("1860.1M")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"transaction-title"},[e("div",{staticStyle:{display:"flex",width:"96%",margin:"0 auto",height:"30px","line-height":"30px","padding-left":"2%","padding-right":"2%"}},[e("div",{staticStyle:{width:"33%","text-align":"center",color:"black","font-weight":"500",height:"30px","line-height":"30px","padding-left":"2%","padding-right":"2%"}},[t._v("Transaction Hash")]),e("div",{staticStyle:{width:"33%","text-align":"center",color:"black","font-weight":"500",height:"30px","line-height":"30px","padding-left":"2%","padding-right":"2%"}},[t._v("From")]),e("div",{staticStyle:{width:"33%","text-align":"center",color:"black","font-weight":"500",height:"30px","line-height":"30px","padding-left":"2%","padding-right":"2%"}},[t._v("To")])])])}],R=(a(7658),{name:"DashBoard",data(){return{ethusd:1586.36,ethbtc:.06847,ethsupply:void 0,activeName:"TableTab",transactions:[],scrollTx:[],timer:[],aberration:[],value1:!0,blockNumber:16540597,txTimer:void 0,speed:[103,152,130,190,110,150,180,130,120,150,130,170],blockTime:"Unknown",dashboard:{hour:734,minute:46,seconds:1}}},props:{history:{type:Object,default:{}},popper:{type:Function,default:null},blockTime:{type:String,default:"Unknown"},transactions:{type:Array,default:[]},aberration:{type:Function,default:null},blockNumber:{type:Number,default:16540597},dashboard:{type:Object,default:{hour:734,minute:46,seconds:1}}},watch:{transactions(t){this.transactions=t},aberration(t){this.aberration=t},blockNumber(t){this.blockNumber=t},blockTime(t){this.blockTime=t},dashboard(t){this.dashboard=t}},components:{TableComponent:N},mounted(){this.scrollTx=this.transactions.slice(this.transactions.length-8,this.transactions.length);let t=[];for(var e=0;e<this.speed.length;e++)t.push("");this.setBarOption(this.speed,t),setInterval((()=>{this.scrollTx=this.transactions.slice(this.transactions.length-8,this.transactions.length)}),2e3),this.timer.push(setInterval((()=>{this.speed.push(100*Math.random()+100);let t=[];for(var e=0;e<this.speed.length;e++)t.push("");this.setBarOption(this.speed,t)}),1e3))},methods:{setBarOption(t,e){var a=echarts.init(document.getElementById("bar"),"white",{renderer:"canvas"}),i={animation:!0,animationThreshold:2e3,animationDuration:1e3,animationEasing:"cubicOut",animationDelay:0,animationDurationUpdate:300,animationEasingUpdate:"cubicOut",animationDelayUpdate:0,series:[{type:"line",name:"Transaction synchronization",connectNulls:!1,symbol:"emptyCircle",symbolSize:4,color:"skyblue",showSymbol:!0,smooth:!1,clip:!0,step:!1,data:t,hoverAnimation:!0,lineStyle:{show:!0,width:1,opacity:1,color:"#d9ecff",curveness:0,type:"solid"},areaStyle:{opacity:1,color:"#d9ecff"},markLine:{silent:!1,precision:2,label:{show:!0,position:"middle",margin:8,color:"gray",formatter:function(t){return"Average Speed："+t.value+"tps"}},lineStyle:{show:!0,width:1,color:"gray",curveness:0,type:"solid",opacity:1},data:[{type:"average",name:"Average Speed(tps)"}],tooltip:{show:!0,trigger:"item",triggerOn:"mousemove|click",axisPointer:{type:"line"},showContent:!0,alwaysShowContent:!0,showDelay:0,hideDelay:100,textStyle:{fontSize:14},borderWidth:0,padding:5}},zlevel:0,z:0}],grid:{top:"20px",left:"30px",right:"20px",bottom:"35px"},tooltip:{show:!0,trigger:"item",triggerOn:"mousemove|click",axisPointer:{type:"line"},showContent:!0,alwaysShowContent:!1,showDelay:0,hideDelay:100,textStyle:{fontSize:14},borderWidth:0,padding:5},xAxis:[{show:!1,scale:!1,nameLocation:"end",nameGap:15,gridIndex:0,inverse:!1,offset:0,splitNumber:5,minInterval:0,splitLine:{show:!1,lineStyle:{show:!0,width:1,opacity:1,curveness:0,type:"solid"}},data:e}],yAxis:[{show:!0,scale:!1,nameLocation:"end",nameGap:15,gridIndex:0,inverse:!1,offset:0,splitNumber:5,minInterval:0,splitLine:{show:!1,lineStyle:{show:!0,width:1,opacity:1,curveness:0,type:"solid"}}}],dataZoom:{show:!0,type:"slider",realtime:!0,orient:"horizontal",startValue:t.length-10,endValue:t.length-1,filterMode:"filter"}};a.setOption(i)},setRateOption(t){let e={animation:!0,animationThreshold:2e3,animationDuration:1e3,animationEasing:"cubicOut",animationDelay:0,animationDurationUpdate:300,animationEasingUpdate:"cubicOut",animationDelayUpdate:0,color:["#c23531","#2f4554","#61a0a8","#d48265","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#f05b72","#ef5b9c","#f47920","#905a3d","#fab27b","#2a5caa","#444693","#726930","#b2d235","#6d8346","#ac6767","#1d953f","#6950a1","#918597"],series:[{type:"liquidFill",name:"lq",data:[(t.length+900)/(t.length+1e3)],waveAnimation:!0,animationDuration:2e3,animationDurationUpdate:1e3,color:["#294D99","#156ACF","#1598ED","#45BDFF"],shape:"circle",backgroundStyle:{},outline:{show:!0,borderDistance:8},label:{show:!0,position:"inside",margin:8,fontSize:25,formatter:function(t){t.value}}}],legend:[{data:[],selected:{},show:!0,padding:5,itemGap:10,itemWidth:25,itemHeight:14}],tooltip:{show:!0,trigger:"item",triggerOn:"mousemove|click",axisPointer:{type:"line"},showContent:!0,alwaysShowContent:!1,showDelay:0,hideDelay:100,textStyle:{fontSize:14},borderWidth:0,padding:5}};var a=echarts.init(document.getElementById("rate"),"white",{renderer:"canvas"});a.clear(),a.setOption(e)},updateAberration(){return this.aberration},getTransaction(){this.$http.get("/block/transaction/",{params:{index:this.transactions.length}},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){t.body.transaction["tx_hash"]!=this.transactions[this.transactions.length-1]["tx_hash"]&&(this.dailyTx+=1,this.transactions.push(t.body.transaction),this.setRateOption(this.transactions),t.body.flag&&(console.log("检测到异常"+t.body.result),this.$http.get("/block/abberration/",{params:{type:t.body.result}},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.aberration.push({index:this.aberration.length,source:t.body.source,account:t.body.account,value:t.body.value,tx:t.body.tx,label:t.body.label}),this.change(this.transactions,this.aberration,this.blockNumber,this.blockTime)}))),this.change(this.transactions,this.aberration,this.blockNumber,this.blockTime))}))}}}),W=R,Z=(0,d.Z)(W,P,B,!1,null,null,null),V=Z.exports,H=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"upload-content"},[e("div",{staticClass:"upload-area"},[e("el-upload",{ref:"upload",staticClass:"upload",attrs:{drag:"",action:"/data/upload/",accept:".json",limit:2,"show-file-list":!1,multiple:"","on-exceed":t.handleExceed,"on-success":t.handleSuccess,"on-error":t.handleError,"before-upload":t.handleUpload}},[e("div",{staticStyle:{margin:"0 auto",width:"80%"}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传edge.json和vertex.json")])])])],1),e("div",{staticClass:"search-area"},[e("div",{staticClass:"upload-info"},[e("el-descriptions",{attrs:{title:"上传信息"}},[e("template",{slot:"extra"}),e("el-descriptions-item",{attrs:{label:"账户数"}},[e("el-tag",{attrs:{size:"small"}},[t._v(t._s(this.NodeNumber))])],1),e("el-descriptions-item",{attrs:{label:"交易数"}},[e("el-tag",{attrs:{size:"small"}},[t._v(t._s(this.EdgeNumber))])],1),e("el-descriptions-item",{attrs:{label:"区块范围"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(this.blocknumber["min"]))]),t._v("~"),e("el-tag",{attrs:{type:"primary",size:"small"}},[t._v(t._s(this.blocknumber["max"]))])],1),e("el-descriptions-item",{attrs:{label:"异常行为数"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(0==this.labelNumber?0:this.labelNumber-1))])],1),e("el-descriptions-item",{attrs:{label:"时间戳"}},[e("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(this.timestamp))])],1)],2)],1)])]),e("el-tabs",{staticStyle:{"margin-left":"2%","margin-top":"4%"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{staticStyle:{width:"100%"},attrs:{label:"异常",name:"GraphTab"}},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"table-result"},[e("TableComponent",{attrs:{data:t.aberration,open:t.popper}})],1)])])])],1)],1)},q=[],X={name:"UploadComponent",props:{open:{type:Function,default:null},popper:{type:Function,default:null}},data(){return{activeName:"GraphTab",fullshow:!1,option4Graph:{},uploading:!1,successNumber:0,edgeJson:!1,VertexJson:!1,labelNumber:0,NodeNumber:0,EdgeNumber:0,labelSelect:"",label:[],blocknumber:{max:"Unknown",min:"Unknown"},timestamp:"未上传",aberration:[]}},components:{TableComponent:N,NetGraph:E},mounted(){},methods:{openProp(){this.option4Graph!={}&&void 0!=this.option4Graph&&this.popper(this.option4Graph,!1)},search(){let t=this.labelSelect;this.$http.post("/data/timeline/",{label:t},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.code=200,this.activeNumber=3,this.option4Graph=t.body.json}),(function(t){this.code=t.status,this.message=t.body.message}))},openEdgeInfo(t,e,a,i,s){this.open(t,e,a,i,s)},newUpload(){this.edgeJson=!1,this.VertexJson=!1},handleSuccess(t,e){this.showMessage("success"),this.successNumber+=1,"edge.json"==e.name&&(this.edgeJson=!0),"vertex.json"==e.name&&(this.VertexJson=!0),2==this.successNumber&&(this.$http.get("/data/info/",{},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.code=200,this.labelNumber=t.body.labelNumber,this.blocknumber=t.body.blocknumberRange,this.timestamp=t.body.timestamp,this.NodeNumber=t.body.NodeNumber,this.EdgeNumber=t.body.EdgeNumber,this.label=t.body.label,this.successNumber=0,this.VertexJson=!1,this.edgeJson=!1,this.$refs.upload.clearFiles()}),(function(t){this.code=t.status,this.message=t.body.message,this.showMessage("error",t.body.message),this.$refs.upload.clearFiles(),this.successNumber=0,this.VertexJson=!1,this.edgeJson=!1})),this.$http.get("/data/aberration/",{},{headers:{"Content-Type":"application/json"}},{emulateJSON:!0}).then((function(t){this.aberration=t.body.aberration}),(function(t){this.showMessage("error",t.body.message)}))),console.log(t)},handleError(t){this.showMessage("error",t),console.log(t)},handleExceed(){this.showMessage("exceed")},handleUpload(t){return!this.uploading&&("edge.json"==t.name&&this.edgeJson||"vertex.json"==t.name&&this.VertexJson?(this.showMessage("repeatError"),this.$refs.upload.clearFiles(),!1):"edge.json"!=t.name&&"vertex.json"!=t.name?(this.showMessage("nameError"),this.$refs.upload.clearFiles(),!1):void 0)},showMessage(t,e){"exceed"==t?this.$notify({title:"Error",message:"Exceed Error: The number of files exceeds the limit",type:"warning"}):"success"==t?this.$notify({title:"Success",message:"Success: Upload Success",type:"success"}):"error"==t?this.$notify.error({title:"Error",message:e}):"nameError"==t?this.$notify.error({title:"Error",message:"Name Error: The name of file must be edge.json or vertex.json"}):"repeatError"==t&&this.$notify.error({title:"Error",message:"Repeat Upload Error: edge.json or vertex.json has been uploaded"})}}},Y=X,K=(0,d.Z)(Y,H,q,!1,null,null,null),Q=K.exports;i["default"].use(g.Z);var tt=new g.Z({mode:"history",routes:[{path:"/",name:"index",component:L},{path:"/dashboard",name:"DashBoard",component:V},{path:"/search",name:"search",component:A},{path:"/upload",name:"upload",component:Q}]}),et=a(9618),at=a(3845),it=a(8499),st=a.n(it),nt=a(7752),lt=a(6642);i["default"].use(lt.ZP),i["default"].use(st()),i["default"].config.productionTip=!1,i["default"].prototype.zrender=et,i["default"].prototype.$echarts=at,i["default"].prototype.$antv=nt.ZP,new i["default"]({render:t=>t(b),router:tt}).$mount("#app")},6608:function(){}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){var t=[];a.O=function(e,i,s,n){if(!i){var l=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],n=t[d][2];for(var o=!0,r=0;r<i.length;r++)(!1&n||l>=n)&&Object.keys(a.O).every((function(t){return a.O[t](i[r])}))?i.splice(r--,1):(o=!1,n<l&&(l=n));if(o){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,n,l=i[0],o=i[1],r=i[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(r)var d=r(a)}for(e&&e(i);c<l.length;c++)n=l[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},i=self["webpackChunkdemo4sraft"]=self["webpackChunkdemo4sraft"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(9478)}));i=a.O(i)})();
//# sourceMappingURL=app.f5785570.js.map